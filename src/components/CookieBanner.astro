---
import Button from './Button.astro';
---

<div
  x-data="{ 
    show: !localStorage.getItem('cookieConsent'),
    acceptAll() {
      localStorage.setItem('cookieConsent', 'all');
      this.show = false;
    },
    acceptNecessary() {
      localStorage.setItem('cookieConsent', 'necessary');
      this.show = false;
    }
  }"
  x-show="show"
  x-transition:enter="transition ease-out duration-300"
  x-transition:enter-start="opacity-0 transform translate-y-full"
  x-transition:enter-end="opacity-100 transform translate-y-0"
  x-transition:leave="transition ease-in duration-200"
  x-transition:leave-start="opacity-100 transform translate-y-0"
  x-transition:leave-end="opacity-0 transform translate-y-full"
  class="fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg"
  x-cloak
>
  <div class="container mx-auto max-w-4xl p-4">
    <div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
      <div class="flex-1">
        <h3 class="text-lg font-semibold text-primary mb-2">
          Wij gebruiken cookies
        </h3>
        <p class="text-sm text-gray-600 leading-relaxed">
          Wij gebruiken cookies om uw ervaring op onze website te verbeteren, verkeer te analyseren en gepersonaliseerde content te bieden. 
          Door op "Alles accepteren" te klikken, stemt u in met het gebruik van alle cookies. 
          U kunt ook kiezen voor alleen noodzakelijke cookies.
        </p>
      </div>
      <div class="flex flex-col gap-2 sm:flex-row sm:gap-3">
        <button
          @click="acceptNecessary()"
          class="py-3 px-6 rounded-full border border-primary text-primary hover:bg-primary hover:text-white transition-all duration-200 text-sm font-medium"
        >
          Alleen noodzakelijk
        </button>
        <Button 
          variant="tertiary" 
          class="text-sm"
          @click="acceptAll()"
        >
          Alles accepteren
        </Button>
      </div>
    </div>
  </div>
</div>